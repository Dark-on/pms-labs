#:kivy 2.0.0

#:import calculate_points src.data_provider.calculate_points
#:import calculate_size src.data_provider.calculate_size
#:import calculate_pos src.data_provider.calculate_pos


<BookItem>:

<BooksList>:

<PieScreen>:
    md_bg_color: 0.15, 0.15, 0.15, 1
    canvas:
        Color:
            rgb: 68 / 255, 77 / 255, 156 / 255
        Ellipse:
            pos: calculate_pos(self.width, self.height)
            size: calculate_size(self.width, self.height)
            angle_start: self.angles[0]
            angle_end: self.angles[1]
        Color:
            rgb: 156 / 255, 113 / 255, 68 / 255
        Ellipse:
            pos: calculate_pos(self.width, self.height)
            size: calculate_size(self.width, self.height)
            angle_start: self.angles[1]
            angle_end: self.angles[2]
        Color:
            rgb: 84 / 255, 61 / 255, 36 / 255
        Ellipse:
            pos: calculate_pos(self.width, self.height)
            size: calculate_size(self.width, self.height)
            angle_start: self.angles[2]
            angle_end: self.angles[3]
        Color:
            rgb: 68 / 255, 141 / 255, 156 / 255
        Ellipse:
            pos: calculate_pos(self.width, self.height)
            size: calculate_size(self.width, self.height)
            angle_start: self.angles[3]
            angle_end: self.angles[4]
        Color:
            rgb: (0.15, 0.15, 0.15)
        Ellipse:
            pos: calculate_pos(self.width, self.height, 4)
            size: calculate_size(self.width, self.height, 4)

<GraphScreen>:
    md_bg_color: 0.15, 0.15, 0.15, 1
    canvas:
        Color:
            rgb: 68 / 255, 77 / 255, 156 / 255
        Line:
            width: 1
            cap: 'round'
            joint: 'round'
            points: [(self.width / 2, 0), (self.width / 2, self.height)]
        Color:
            rgb: 68 / 255, 77 / 255, 156 / 255
        Line:
            width: 1
            cap: 'round'
            joint: 'round'
            points: [(0, self.height / 2), (self.width, self.height / 2)]

        Color:
            rgb: 156 / 255, 113 / 255, 68 / 255
        Line:
            width: 2
            cap: 'round'
            joint: 'round'
            points: calculate_points(self.width, self.height)

<UI>:
    orientation: "vertical"

    MDBottomNavigation:
        id: panel

        MDBottomNavigationItem:
            id: general_item
            name: "files1"
            text: "General"
            icon: "bookmark-outline"

            BoxLayout:
                orientation: "vertical"
                size_hint_y: None
                height: self.minimum_height
                spacing: dp(10)
                pos_hint: {"center_x": .5, "center_y": .5}

                MDLabel:
                    font_style: "Body1"
                    theme_text_color: "Primary"
                    text: "Дрозд Світлана\nГрупа ІВ-81\nЗК ІВ-8111"
                    halign: "center"

        MDBottomNavigationItem:
            id: my_graph_tab
            name: "graph"
            text: "Graph"
            icon: "graphql"

            BoxLayout:

                MDTabs:
                    text_color_active: 1, 1, 1, 1
                    text_color_normal: 1, 1, 1, 1
                    GraphScreen:
                        text: 'Graph'
                    PieScreen:
                        text: 'Pie Chart'

        MDBottomNavigationItem:
            id: my_list_tab
            name: "list"
            text: "Books"
            icon: "book-multiple"

            ScrollView:
                BooksList:

